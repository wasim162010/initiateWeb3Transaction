<!DOCTYPE html>
<html lang="en">

<head>

    <script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
    
     </script>
    <script type = "text/javascript" language = "javascript">

        
                
        $(document).ready(function() {

            async function loadWeb3() {
                    if (window.ethereum) {
                        window.web3 = new Web3(window.ethereum);
                        window.ethereum.enable();
                    }
                }

            await loadWeb3();

            $("#btn").click(function(event){
                $("#curVal").val('');
                   $.post('/increment', function (data) {
                        console.log("increment called");
                    });
            });

            $("#curbtn").click(function(event){
                $.get('/curValue', function (data) {
                    console.log("curValue called");
                    console.log(data);
                    $("#curVal").val(data);
                });
            });

                $("#resetbtn").click(function(event){
                    $("#curVal").val('');
                    $.post('/resetValue', function (data) {
                        console.log("resetValue called");
                        console.log(data);
                    });                
                 });
        });

    </script>

    <meta charset="UTF-8">
    <title>Sample Site</title>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <style>
        body { padding-top:50px; }
    </style>
</head>

<body>

    <div class="container">
        <div class="jumbotron">
            <h1>Simple DApp for the counter contract</h1>
        </div>
        <input type = "button" id = "btn" value = "Increment value" />
        <div> 
            <br/>
            <input type = "button" id = "curbtn" value = "Fetch current value" /> 
            <input type = "text" id = "curVal" readonly= true  />
        </div>
        <div> 
                <br/>
                <input type = "button" id = "resetbtn" value = "Reset value" /> 
               
            </div>
    </div>
    

</body>
</html>